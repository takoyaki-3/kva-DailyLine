## 日々の一行: あなたの毎日の記録を安全に保存

日々の一行は、日々のちょっとした出来事や考えを暗号化して保存できるPWA (Progressive Web App) です。

### 特徴

* **簡単操作**: シンプルなインターフェースで、毎日の記録を簡単に追加・閲覧できます。
* **強力な暗号化**: AES-GCMアルゴリズムを用いて、あなたの記録をブラウザ内で暗号化します。
* **安全な保存**: 暗号化されたデータは、Takoyaki3 KVA Storeに安全に保存されます。
* **オフライン利用**: PWAとして動作するため、オフラインでも記録の閲覧が可能です。
* **タイムゾーン対応**: 記録した日時を、選択したタイムゾーンで表示できます。

### プロジェクト構成

```
kva-DailyLine/
├── encrypt.js             // 暗号化・復号化処理
├── icon/                  // アプリのアイコン
│   ├── daily-line-192.png
│   ├── daily-line-512.png
│   └── DALL...webp
├── index.html             // アプリのメインHTMLファイル
├── manifest.json          // PWAの設定ファイル
├── script.js              // アプリのロジック
├── style.css              // アプリのスタイル
└── sw.js                  // サービスワーカー
```

### 環境変数の設定

このアプリケーションでは、Takoyaki3 KVA Store と Takoyaki3 Auth を利用するため、以下の手順で必要な環境変数を設定してください。

1.  **Takoyaki3 Auth の設定**:
    *   `auth.js` を Takoyaki3 Auth から取得し、`index.html` に `<script src="//takoyaki3-auth.web.app/auth.js"></script>` として埋め込んでください。
    *   Takoyaki3 Auth の設定については、Takoyaki3 Auth のドキュメントを参照してください。

### インストール方法

1. リポジトリをクローンします。
   ```bash
   git clone https://github.com/YOUR_USERNAME/kva-DailyLine.git
   ```
2. `index.html` をブラウザで開きます。
3. ブラウザのプロンプトに従って、アプリをホーム画面に追加します。

### 使い方

1. **鍵の生成/インポート**:
   * アプリを初めて起動すると、鍵の生成またはインポートが求められます。
   * "鍵を生成" ボタンをクリックすると、新しい鍵が生成され、ブラウザのローカルストレージに保存されます。
   * 既存の鍵を使用する場合は、"鍵をインポート" ボタンをクリックし、鍵を入力してください。
2. **記録の追加**:
   * "today's daily line" 入力欄に、今日の記録を入力します。
   * 必要に応じて、"key (optional)" 入力欄にキーを入力します。
   * "Add" ボタンをクリックすると、記録が暗号化され、Takoyaki3 KVA Store に保存されます。
3. **記録の閲覧**:
   * "Load" ボタンをクリックすると、保存されている記録が復号化され、表示されます。
   * タイムゾーンを変更するには、"Timezone" ドロップダウンリストから選択します。
4. **記録の削除**:
   * 現在のバージョンでは、記録の削除機能は実装されていません。

### APIエンドポイント

このアプリケーションは、以下のAPIエンドポイントを使用します。

*   `POST https://kva-store.api.takoyaki3.com`: 記録の追加
*   `GET https://kva-store.api.takoyaki3.com/?key={key}`: 記録の取得

### ライセンス

このプロジェクトはMITライセンスの下で公開されています。 